
# 聚簇索引(innodb)
数据文件和索引文件是同一个文件。即在查询过程中，找到了索引，便找到了数据文件。
* 在innodb中，即存储主键索引值，又存储行数据，称之为聚簇索引
* innodb索引，指向主键对数据的引用。非主键索引则指向对主键的引用。

* 在聚簇索引中，数据会被按照顺序整理排列，当使用where进行顺序，范围、大小检索时，会大大加速检索效率.
* 非聚簇索引在存储时不会对数据进行排序，相对产生的数据文件体积也比较大.


# 聚簇索引的优点
1. 可以把相关数据保存在一起。例如实现电子邮箱时，可以根据用户ID来聚集数据，这样只需要从磁盘读取少数的数据页
就能获取某个用户的全部邮件。如果没有使用聚簇索引。则每封邮件都可以导致一次磁盘I/O.
2. 数据访问更快。聚簇索引将索引和数据保存在同一个B-Tree中。
3. 使用覆盖索引扫描的查询可以直接页节点的主键值.

# 聚簇索引的缺点
1. 聚簇数据最大限度地提高了I/O密集型应用的性能。
2. 插入速度严重依赖于插入顺序。按照主键的顺序插入是加载数据到InnoDB表中速度最快的方式.
3. 更新聚簇索引列的代价很高，因为会强制InnoDB将每个被更新的行移动到新的位置.
4. 基于聚簇索引的表在插入新行，或者主键被更新导致需要移动行的时候，可能面临“页分裂(page split)”的问题.
5. 聚簇索引可能导致全表扫描变慢，尤其是行比较稀疏，或者由于页分裂导致数据存储不连续的时候。
6. 二级索引可能比想象的要更大，因为在二级索引的叶子节点包含了引用行的主键列。
7. 二级索引访问需要两次索引查找，而不是一次











